<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kidney CKD Kids ‚Äì Food Guidance</title>
  <link rel="manifest" href="/taiyim/manifest.json">
  <meta name="theme-color" content="#0f172a">
  <!-- iOS PWA support -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/images/icon-192.png">
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Satriwit-inspired theme variables */
    :root{
      --sw-primary: #0084ff; /* blue */
      --sw-accent: #00d084;  /* green */
      --sw-warn: #fcb900;    /* amber */
      --sw-danger: #ed4020;  /* red */
      --sw-muted: #6b7280;   /* slate-500-ish */
      --sw-bg: #ffffff;
    }
    .btn-primary{ background: linear-gradient(180deg,var(--sw-primary),#006edf); color:#fff }
    .btn-primary:hover{ filter:brightness(0.95) }
    .btn-accent{ background: linear-gradient(180deg,var(--sw-accent),#00b36a); color:#fff }
    .chip-theme{ background: linear-gradient(90deg,#f0f9ff,#fff); color:var(--sw-muted); }
    .tabBtn.active{ box-shadow: 0 6px 18px rgba(0,132,255,0.12); transform:translateY(-2px) }
    /* simple progress bar */
    .bar { height: 12px; border-radius: 999px; background: #e5e7eb; overflow: hidden; }
    .bar { height: 12px; border-radius: 999px; background: #e5e7eb; overflow: hidden; }
    .bar>span { display:block; height:100%; background: #60a5fa; transition: width 300ms ease, background 300ms ease; border-radius:999px; }
  .bar>span { width: 0%; }
    .chip { font-size:12px; padding:2px 8px; border-radius:999px; }
  /* refined good-chip to match Satriwit accent and spacing */
  .chip-good{ background: linear-gradient(90deg,#00c07a,#008f5e); color:#fff; padding:4px 10px; font-size:12px; border-radius:999px; display:inline-block }
    /* header tweaks */
    header .logo { font-size:14px }
    header nav .tabBtn { font-size:13px }
    .no-scrollbar::-webkit-scrollbar{ display:none }
    @media (max-width:640px){
      header .logo { font-size:13px }
      header nav { gap:6px }
    }
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <header class="bg-white shadow-sm sticky top-0 z-10">
    <div class="max-w-4xl mx-auto flex items-center justify-between p-3">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 flex items-center justify-center bg-gradient-to-br from-sky-500 to-emerald-400 text-white rounded-md shadow">üçé</div>
        <div>
          <div class="text-base font-semibold">CKD Kids</div>
          <div class="text-xs text-slate-500">‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏Ñ‡πÑ‡∏ï</div>
        </div>
      </div>
      <nav class="flex items-center gap-2 text-sm">
        <div id="navItems" class="flex gap-2 overflow-x-auto no-scrollbar">
          <button class="tabBtn active px-3 py-1 rounded-md bg-gradient-to-b from-rose-50 to-white text-rose-700 hover:from-rose-100 hover:to-white shadow-sm" aria-pressed="true" data-tab="dashboard">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</button>
          <button class="tabBtn px-3 py-1 rounded-md bg-gradient-to-b from-amber-50 to-white text-amber-700 hover:from-amber-100 hover:to-white shadow-sm" aria-pressed="false" data-tab="food">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
          <button class="tabBtn px-3 py-1 rounded-md bg-gradient-to-b from-sky-50 to-white text-sky-700 hover:from-sky-100 hover:to-white shadow-sm" aria-pressed="false" data-tab="manage">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</button>
          <button class="tabBtn px-3 py-1 rounded-md bg-gradient-to-b from-emerald-50 to-white text-emerald-700 hover:from-emerald-100 hover:to-white shadow-sm" aria-pressed="false" data-tab="profile">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
          <button class="tabBtn px-3 py-1 rounded-md bg-gradient-to-b from-violet-50 to-white text-violet-700 hover:from-violet-100 hover:to-white shadow-sm" aria-pressed="false" data-tab="confirm">‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
        </div>
        <button id="installBtn" class="ml-2 px-3 py-1 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white text-sm shadow">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á</button>
      </nav>
    </div>
  </header>

  <!-- iOS add-to-home-screen hint -->
  <div id="iosInstallHint" class="max-w-4xl mx-auto mt-3 p-3 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 rounded hidden">
    <div class="flex items-start justify-between">
      <div>
        <div class="font-medium">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å (iOS)</div>
        <div class="text-sm">‡πÅ‡∏ï‡∏∞‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ä‡∏£‡πå ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏≠‡∏õ‡∏ô‡∏µ‡πâ</div>
      </div>
      <button id="iosInstallClose" class="ml-4 text-sm px-2 py-1 border rounded">‡∏õ‡∏¥‡∏î</button>
    </div>
  </div>

  <main class="max-w-4xl mx-auto p-4 grid gap-6">
    <!-- Dashboard -->
    <section id="dashboard" class="tab">
      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-white shadow rounded-xl p-4">
          <h2 class="font-semibold mb-2">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
          <div class="text-sm text-slate-600 mb-3" id="userSummary">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</div>
          <div class="space-y-3">
            <div>
              <div class="flex justify-between text-sm mb-1"><span>‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô (g)</span><span id="proteinLabel">0 / 0</span></div>
              <div class="bar"><span id="proteinBar"></span></div>
            </div>
            <div>
              <div class="flex justify-between text-sm mb-1"><span>‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏° (mg)</span><span id="sodiumLabel">0 / 0</span></div>
              <div class="bar"><span id="sodiumBar"></span></div>
            </div>
            <div class="text-sm" id="adviceBox"></div>
            
          </div>
        </div>
        <div class="bg-white shadow rounded-xl p-4">
          <h2 class="font-semibold mb-2">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
          <div id="todayList" class="divide-y"></div>
          <div class="flex justify-between items-center pt-3">
            <button id="clearToday" class="text-xs text-red-600 hover:underline">‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
            <button id="exportCsv" class="text-xs text-slate-700 hover:underline">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV</button>
          </div>
          
        </div>
      </div>
    </section>

  <!-- 7-day history (energy panel removed) -->
    <section id="cal30Block" class="tab">
      <div class="bg-white shadow rounded-xl p-4">
        <div class="mt-0">
          <div class="flex items-center justify-between mb-3">
            <div class="flex items-center gap-3">
              <h4 id="calHistoryTitle" class="text-sm font-medium mb-0">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ 7 ‡∏ß‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h4>
              <button id="exportHistoryBtn" class="ml-3 text-xs px-3 py-1 border rounded bg-white hover:bg-slate-50">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
            </div>
            <div class="flex items-center gap-2">
              <label class="text-xs text-slate-500">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</label>
              <select id="historyRange" class="border rounded px-2 py-1 text-sm" aria-label="‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥" title="‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥">
                <option value="7" selected>1 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</option>
                <option value="30">30 ‡∏ß‡∏±‡∏ô</option>
                <option value="60">60 ‡∏ß‡∏±‡∏ô</option>
                <option value="90">90 ‡∏ß‡∏±‡∏ô</option>
                <option value="180">180 ‡∏ß‡∏±‡∏ô</option>
                <option value="360">360 ‡∏ß‡∏±‡∏ô</option>
              </select>
            </div>
          </div>
          <div class="mb-3 bg-white border rounded p-2">
            <div class="flex items-center gap-2 px-2">
              <button id="chartTabSodium" class="px-3 py-1 text-sm rounded-md bg-slate-50 active">‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°</button>
              <button id="chartTabProtein" class="px-3 py-1 text-sm rounded-md bg-white">‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô</button>
            </div>
            <div class="p-3">
              <div id="sodiumChart" class="chartPanel" style="height:140px;"></div>
              <div id="proteinChart" class="chartPanel hidden" style="height:140px;"></div>
            </div>
          </div>
          <div id="calHistoryTable" class="overflow-auto bg-white border rounded"></div>
        </div>
      </div>
    </section>

    <!-- Read & Confirm (consent) -->
    <section id="confirm" class="tab hidden">
      <div class="bg-white shadow rounded-xl p-4">
        <h2 class="font-semibold mb-3">‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</h2>
        <div class="prose text-sm text-slate-700 mb-4">
          <p>‡πÇ‡∏õ‡∏£‡∏î‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÅ‡∏≠‡∏õ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á.</p>
          <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢) ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î.</p>
          <p>‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£' ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ ‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡∏à‡∏∞‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô.</p>
        </div>
        <div class="flex justify-end gap-2">
          <button id="consentDecline" class="px-3 py-2 rounded-md border">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          <button id="consentAccept" class="px-4 py-2 rounded-md bg-violet-600 hover:bg-violet-700 text-white">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>
        </div>
      </div>
    </section>

    <!-- Food Search/Add -->
    <section id="food" class="tab hidden">
      <div class="bg-white shadow rounded-xl p-4">
        <h2 class="font-semibold mb-4">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å/‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
        <div class="grid md:grid-cols-4 gap-2 mb-3">
          <input id="search" class="md:col-span-3 border rounded px-3 py-2" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£ (‡∏ä‡∏∑‡πà‡∏≠)" />
          <select id="categoryFilter" class="border rounded px-3 py-2" aria-label="‡∏Å‡∏£‡∏≠‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£" title="‡∏Å‡∏£‡∏≠‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£">
            <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î</option>
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å</option>
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡πà‡∏≤‡∏á</option>
            <option>‡∏ã‡∏≠‡∏™‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™</option>
            <option>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
          </select>
        </div>
        <div id="foodList" class="grid sm:grid-cols-2 gap-3"></div>
      </div>
    </section>

    <!-- Manage Foods -->
    <section id="manage" class="tab hidden">
      <div class="bg-white shadow rounded-xl p-4">
        <h2 class="font-semibold mb-3">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
        <form id="addFoodForm" class="grid md:grid-cols-5 gap-2 items-end">
          <input required id="foodName" class="border rounded px-3 py-2 md:col-span-2" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£" />
          <select id="foodCat" class="border rounded px-3 py-2" aria-label="‡∏´‡∏°‡∏ß‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£" title="‡∏´‡∏°‡∏ß‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£">
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å</option>
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡πà‡∏≤‡∏á</option>
            <option>‡∏ã‡∏≠‡∏™‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™</option>
            <option>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
          </select>
          <input required id="foodProtein" type="number" min="0" step="0.1" class="border rounded px-3 py-2" placeholder="‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô/‡∏´‡∏ô‡πà‡∏ß‡∏¢ (g)" />
          <input required id="foodSodium" type="number" min="0" step="1" class="border rounded px-3 py-2" placeholder="‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°/‡∏´‡∏ô‡πà‡∏ß‡∏¢ (mg)" />
          <button type="submit" class="bg-slate-800 hover:bg-slate-900 text-white rounded-md px-4 py-2 shadow">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
        </form>
  <p class="text-xs text-slate-500 mt-2">* ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ = 1 ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏´‡∏ô‡∏î</p>
  <div id="manageList" class="mt-3 space-y-2"></div>
      </div>
    </section>

    <!-- Profile -->
    <section id="profile" class="tab hidden">
      <div class="bg-pink-50 shadow rounded-xl p-4">
        <h2 class="font-semibold mb-3 text-pink-700">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</h2>
        <form id="profileForm" class="grid sm:grid-cols-2 gap-4">
          <div>
            <label class="text-sm text-pink-700" for="p_name">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</label>
            <input id="p_name" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80 placeholder-pink-400" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•" title="‡∏ä‡∏∑‡πà‡∏≠" />
          </div>
          <div>
            <label class="text-sm text-pink-700" for="p_nickname">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label>
            <input id="p_nickname" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80 placeholder-pink-400" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)" title="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô" />
          </div>
          <div>
            <label class="text-sm text-pink-700" for="p_sex">‡πÄ‡∏û‡∏®</label>
            <select id="p_sex" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" aria-label="‡πÄ‡∏û‡∏®" title="‡πÄ‡∏û‡∏®">
              <option value="">‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏</option>
              <option value="male">‡∏ä‡∏≤‡∏¢</option>
              <option value="female">‡∏´‡∏ç‡∏¥‡∏á</option>
            </select>
          </div>

          <div class="sm:col-span-2 grid grid-cols-4 gap-3 items-end">
            <div>
              <label class="text-sm text-pink-700">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label>
              <input id="p_dob" type="date" aria-label="‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" />
            </div>
            <div>
              <label class="text-sm text-pink-700">‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏õ‡∏µ)</label>
              <input id="p_age" type="number" min="0" max="18" aria-label="‡∏≠‡∏≤‡∏¢‡∏∏" readonly class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/60 cursor-not-allowed" placeholder="‡∏≠‡∏≤‡∏¢‡∏∏" title="‡∏≠‡∏≤‡∏¢‡∏∏" />
            </div>
            <div>
              <label class="text-sm text-pink-700">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)</label>
              <input id="p_weight" type="number" min="1" step="0.1" aria-label="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" placeholder="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å" title="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å" />
            </div>
            <div>
              <label class="text-sm text-pink-700">‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡∏ã‡∏°.)</label>
              <input id="p_height" type="number" min="0" step="0.1" aria-label="‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á" title="‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" placeholder="‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á" />
            </div>
          </div>

          <div>
            <label class="text-sm text-pink-700">‡∏£‡∏∞‡∏¢‡∏∞ CKD</label>
            <select id="p_ckd" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" aria-label="‡∏£‡∏∞‡∏¢‡∏∞ CKD" title="‡∏£‡∏∞‡∏¢‡∏∞ CKD">
              <option value="2">‡∏£‡∏∞‡∏¢‡∏∞ 2</option>
              <option value="3">‡∏£‡∏∞‡∏¢‡∏∞ 3</option>
              <option value="4">‡∏£‡∏∞‡∏¢‡∏∞ 4</option>
              <option value="5">‡∏£‡∏∞‡∏¢‡∏∞ 5 / ‡∏ü‡∏≠‡∏Å‡πÑ‡∏ï (5D)</option>
            </select>
          </div>
          <div>
            <label class="text-sm text-pink-700">eGFR (mL/min/1.73m¬≤)</label>
            <input id="p_egfr" type="number" min="0" step="0.1" aria-label="eGFR" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" placeholder="eGFR" title="eGFR" />

          </div>
          <div>
            <label class="text-sm text-pink-700">‡∏Ñ‡∏£‡∏µ‡πÄ‡∏≠‡∏ï‡∏¥‡∏ô‡∏µ‡∏ô (mg/dL)</label>
            <input id="p_scr" type="number" min="0" step="0.01" aria-label="‡∏Ñ‡∏£‡∏µ‡πÄ‡∏≠‡∏ï‡∏¥‡∏ô‡∏µ‡∏ô" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" placeholder="‡∏Ñ‡∏£‡∏µ‡πÄ‡∏≠‡∏ï‡∏¥‡∏ô‡∏µ‡∏ô (mg/dL)" title="‡∏Ñ‡∏£‡∏µ‡πÄ‡∏≠‡∏ï‡∏¥‡∏ô‡∏µ‡∏ô" />
          </div>

          <!-- age-specific sub-forms -->
          <div id="pediatricForm" class="sm:col-span-2 space-y-3 hidden">
            <div>
              <label class="text-sm text-pink-700">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á</label>
              <input id="p_guardian" aria-label="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á" title="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á" />
            </div>
            <div>
              <label class="text-sm text-pink-700">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
              <input id="p_school" aria-label="‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" title="‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80" placeholder="‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" />
            </div>
          </div>

          <div id="adultForm" class="sm:col-span-2 space-y-3 hidden">
            <div>
              <!-- height moved to main profile row for consistency -->
              <label class="text-sm text-pink-700">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
              <div class="text-xs text-pink-600">‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å</div>
            </div>
            <div>
              <label class="text-sm text-pink-700">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>
              <select id="p_activity" aria-label="‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°" title="‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°" class="w-full px-4 py-3 rounded-full border border-pink-200 bg-white/80">
                <option value="low">‡∏ô‡πâ‡∏≠‡∏¢</option>
                <option value="moderate">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                <option value="high">‡∏™‡∏π‡∏á</option>
              </select>
            </div>
          </div>

          <div class="sm:col-span-2 flex gap-3">
            <button class="flex-1 bg-pink-600 hover:bg-pink-700 text-white rounded-full px-6 py-3 shadow" type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
            <button id="resetAll" class="flex-1 border border-pink-200 hover:bg-pink-50 text-pink-700 rounded-full px-6 py-3" type="button">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
          </div>
        </form>
        <div class="mt-4 text-xs text-pink-600">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô (‡∏Å‡∏£‡∏±‡∏°/‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô) ‡πÅ‡∏•‡∏∞‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏° (‡∏°‡∏Å./‡∏ß‡∏±‡∏ô) ‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á AAP ‡πÅ‡∏•‡∏∞ Thai DRI ‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠</div>
      </div>
    </section>
  </main>

  <footer class="max-w-4xl mx-auto p-6 text-xs text-slate-500">
    ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏à‡∏£‡∏¥‡∏á ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå/‡∏ô‡∏±‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏°‡∏≠
    <div class="mt-2">
      <button id="exportAllBtn" class="text-xs px-3 py-1 border rounded bg-white hover:bg-slate-50">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    </div>
  </footer>

  <!-- Toast container -->
  <div id="toastContainer" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 space-y-2 pointer-events-none"></div>

  <!-- Confirm Add Modal (kept inside body) -->
  <div id="confirmAddModal" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg max-w-sm w-full p-4 mx-4">
      <div class="font-medium mb-2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
      <div id="confirmAddMsg" class="text-sm text-slate-700 mb-4">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£...</div>
      <div class="flex gap-2 justify-end">
        <button id="confirmAddStay" class="px-3 py-1 rounded-md btn-primary text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡πà‡∏≠</button>
        <button id="confirmAddDashboard" class="px-3 py-1 rounded-md bg-amber-500 text-white text-sm hover:brightness-95">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- dev cache-buster: append ?_t=dev to force-refresh in development; remove for production -->
  <script type="module" src="./js/app.js?_t=dev"></script>
</body>
</html>
