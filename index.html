<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kidney CKD Kids ‚Äì Food Guidance</title>
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#0f172a">
  <!-- iOS PWA support -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/images/icon-192.png">
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* simple progress bar */
    .bar { height: 12px; border-radius: 999px; background: #e5e7eb; overflow: hidden; }
    .bar>span { display:block; height:100%; background: #60a5fa; }
    .chip { font-size:12px; padding:2px 8px; border-radius:999px; }
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <header class="p-4 bg-white shadow-sm sticky top-0 z-10">
    <div class="max-w-4xl mx-auto flex items-center justify-between">
      <h1 class="text-lg font-semibold">üçé CKD Kids ‚Äì ‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏Ñ‡πÑ‡∏ï</h1>
      <nav class="flex gap-2 text-sm">
        <button class="tabBtn px-3 py-1 rounded hover:bg-slate-100" data-tab="dashboard">Dashboard</button>
        <button class="tabBtn px-3 py-1 rounded hover:bg-slate-100" data-tab="food">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
        <button class="tabBtn px-3 py-1 rounded hover:bg-slate-100" data-tab="manage">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
        <button class="tabBtn px-3 py-1 rounded hover:bg-slate-100" data-tab="profile">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
  <button id="installBtn" class="ml-2 px-3 py-1 rounded bg-emerald-600 text-white text-sm hidden">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏õ</button>
      </nav>
    </div>
  </header>

  <!-- iOS add-to-home-screen hint -->
  <div id="iosInstallHint" class="max-w-4xl mx-auto mt-3 p-3 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 rounded hidden">
    <div class="flex items-start justify-between">
      <div>
        <div class="font-medium">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å (iOS)</div>
        <div class="text-sm">‡πÅ‡∏ï‡∏∞‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ä‡∏£‡πå ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏≠‡∏õ‡∏ô‡∏µ‡πâ</div>
      </div>
      <button id="iosInstallClose" class="ml-4 text-sm px-2 py-1 border rounded">‡∏õ‡∏¥‡∏î</button>
    </div>
  </div>

  <main class="max-w-4xl mx-auto p-4 grid gap-6">
    <!-- Dashboard -->
    <section id="dashboard" class="tab">
      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-white shadow rounded-xl p-4">
          <h2 class="font-semibold mb-2">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
          <div class="text-sm text-slate-600 mb-3" id="userSummary">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</div>
          <div class="space-y-3">
            <div>
              <div class="flex justify-between text-sm mb-1"><span>‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô (g)</span><span id="proteinLabel">0 / 0</span></div>
              <div class="bar"><span id="proteinBar" style="width:0%"></span></div>
            </div>
            <div>
              <div class="flex justify-between text-sm mb-1"><span>‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏° (mg)</span><span id="sodiumLabel">0 / 0</span></div>
              <div class="bar"><span id="sodiumBar" style="width:0%"></span></div>
            </div>
            <div class="text-sm" id="adviceBox"></div>
          </div>
        </div>
        <div class="bg-white shadow rounded-xl p-4">
          <h2 class="font-semibold mb-2">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
          <div id="todayList" class="divide-y"></div>
          <div class="flex justify-between items-center pt-3">
            <button id="clearToday" class="text-xs text-red-600 hover:underline">‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
            <button id="exportCsv" class="text-xs text-slate-700 hover:underline">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Food Search/Add -->
    <section id="food" class="tab hidden">
      <div class="bg-white shadow rounded-xl p-4">
        <h2 class="font-semibold mb-4">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å/‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
        <div class="grid md:grid-cols-4 gap-2 mb-3">
          <input id="search" class="md:col-span-3 border rounded px-3 py-2" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£ (‡∏ä‡∏∑‡πà‡∏≠)" />
          <select id="categoryFilter" class="border rounded px-3 py-2">
            <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î</option>
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å</option>
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡πà‡∏≤‡∏á</option>
            <option>‡∏ã‡∏≠‡∏™‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™</option>
            <option>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
          </select>
        </div>
        <div id="foodList" class="grid sm:grid-cols-2 gap-3"></div>
      </div>
    </section>

    <!-- Manage Foods -->
    <section id="manage" class="tab hidden">
      <div class="bg-white shadow rounded-xl p-4">
        <h2 class="font-semibold mb-3">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
        <form id="addFoodForm" class="grid md:grid-cols-5 gap-2 items-end">
          <input required id="foodName" class="border rounded px-3 py-2 md:col-span-2" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£" />
          <select id="foodCat" class="border rounded px-3 py-2">
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å</option>
            <option>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡πà‡∏≤‡∏á</option>
            <option>‡∏ã‡∏≠‡∏™‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™</option>
            <option>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
          </select>
          <input required id="foodProtein" type="number" min="0" step="0.1" class="border rounded px-3 py-2" placeholder="‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô/‡∏´‡∏ô‡πà‡∏ß‡∏¢ (g)" />
          <input required id="foodSodium" type="number" min="0" step="1" class="border rounded px-3 py-2" placeholder="‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°/‡∏´‡∏ô‡πà‡∏ß‡∏¢ (mg)" />
          <button class="bg-slate-800 text-white rounded px-4 py-2">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
        </form>
        <p class="text-xs text-slate-500 mt-2">* ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ = 1 ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏´‡∏ô‡∏î</p>
      </div>
    </section>

    <!-- Profile -->
    <section id="profile" class="tab hidden">
      <div class="bg-white shadow rounded-xl p-4">
        <h2 class="font-semibold mb-3">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</h2>
        <form id="profileForm" class="grid sm:grid-cols-2 gap-3">
          <div>
            <label class="text-sm">‡∏ä‡∏∑‡πà‡∏≠</label>
            <input id="p_name" class="border rounded w-full px-3 py-2" />
          </div>
          <div>
            <label class="text-sm">‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏õ‡∏µ)</label>
            <input id="p_age" type="number" min="0" max="18" class="border rounded w-full px-3 py-2" />
          </div>
          <div>
            <label class="text-sm">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)</label>
            <input id="p_weight" type="number" min="1" step="0.1" class="border rounded w-full px-3 py-2" />
          </div>
          <div>
            <label class="text-sm">‡∏£‡∏∞‡∏¢‡∏∞ CKD</label>
            <select id="p_ckd" class="border rounded w-full px-3 py-2">
              <option value="2">‡∏£‡∏∞‡∏¢‡∏∞ 2</option>
              <option value="3">‡∏£‡∏∞‡∏¢‡∏∞ 3</option>
              <option value="4">‡∏£‡∏∞‡∏¢‡∏∞ 4</option>
              <option value="5">‡∏£‡∏∞‡∏¢‡∏∞ 5 / ‡∏ü‡∏≠‡∏Å‡πÑ‡∏ï (5D)</option>
            </select>
          </div>
          <div class="sm:col-span-2 flex gap-2">
            <button class="bg-slate-800 text-white rounded px-4 py-2" type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
            <button id="resetAll" class="border rounded px-4 py-2" type="button">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
          </div>
        </form>
        <div class="mt-4 text-xs text-slate-500">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô (‡∏Å‡∏£‡∏±‡∏°/‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô) ‡πÅ‡∏•‡∏∞‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏° (‡∏°‡∏Å./‡∏ß‡∏±‡∏ô) ‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á AAP ‡πÅ‡∏•‡∏∞ Thai DRI ‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠</div>
      </div>
    </section>
  </main>

  <footer class="max-w-4xl mx-auto p-6 text-xs text-slate-500">
    ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏à‡∏£‡∏¥‡∏á ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå/‡∏ô‡∏±‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏°‡∏≠
  </footer>

  <script type="module" src="/js/app.js"></script>
</body>
</html>
